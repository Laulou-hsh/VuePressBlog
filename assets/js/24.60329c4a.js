(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{541:function(v,_,e){},611:function(v,_,e){"use strict";e(541)},664:function(v,_,e){"use strict";e.r(_);e(611);var t=e(5),r=Object(t.a)({},(function(){var v=this,_=v.$createElement,e=v._self._c||_;return e("ContentSlotsDistributor",{attrs:{"slot-key":v.$parent.slotKey}},[e("h2",{attrs:{id:"_2021年01月25日"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2021年01月25日"}},[v._v("#")]),v._v(" 2021年01月25日")]),v._v(" "),e("blockquote",[e("p",[v._v('本文转载和摘抄于微信公众号"JS每日一题"的文章'),e("a",{attrs:{href:"https://mp.weixin.qq.com/s/KfedZnfC_ZpVRKNnhk9zYQ",target:"_blank",rel:"noopener noreferrer"}},[v._v("面试官：说说你对Vue生命周期的理解?"),e("OutboundLink")],1),v._v("，本人除了转载和学习参考，不对此进行任何商业行为。")])]),v._v(" "),e("hr"),v._v(" "),e("img",{staticClass:"custom",staticStyle:{margin:"0 auto",display:"block"},attrs:{src:v.$withBase("/assets/img/img20210125/vue_生命周期01.webp"),alt:"img"}}),v._v(" "),e("h2",{attrs:{id:"一、生命周期是什么"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#一、生命周期是什么"}},[v._v("#")]),v._v(" "),e("strong",[v._v("一、生命周期是什么")])]),v._v(" "),e("p",[v._v("生命周期"),e("code",[v._v("（Life Cycle）")]),v._v("的概念应用很广泛，特别是在政治、经济、环境、技术、社会等诸多领域经常出现，其基本涵义可以通俗地理解为“从摇篮到坟墓”"),e("code",[v._v("（Cradle-to-Grave）")]),v._v("的整个过程")]),v._v(" "),e("p",[v._v("在 "),e("code",[v._v("Vue")]),v._v(" 中实例从创建到销毁的过程就是生命周期，即指从创建、初始化数据、编译模板、挂载Dom→渲染、更新→渲染、卸载等一系列过程")]),v._v(" "),e("p",[v._v("我们可以把组件比喻成工厂里面的一条流水线，每个工人（生命周期）站在各自的岗位，当任务流转到工人身边的时候，工人就开始工作")]),v._v(" "),e("p",[v._v("PS：在 "),e("code",[v._v("Vue")]),v._v(" 生命周期钩子会自动绑定 "),e("code",[v._v("this")]),v._v(" 上下文到实例中，因此你可以访问数据，对 "),e("code",[v._v("property")]),v._v(" 和方法进行运算")]),v._v(" "),e("p",[v._v("这意味着你"),e("strong",[v._v("不能使用箭头函数来定义一个生命周期方法")]),v._v(" （例如 "),e("code",[v._v("created: () => this.fetchTodos()")]),v._v(" ）。")]),v._v(" "),e("hr"),v._v(" "),e("h2",{attrs:{id:"二、生命周期有哪些"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#二、生命周期有哪些"}},[v._v("#")]),v._v(" "),e("strong",[v._v("二、生命周期有哪些")])]),v._v(" "),e("p",[e("code",[v._v("Vue")]),v._v(" 生命周期总共可以分为8个阶段：创建前后, 载入前后,更新前后,销毁前销毁后，以及一些特殊场景的生命周期。")]),v._v(" "),e("table",[e("thead",[e("tr",[e("th",[v._v("生命周期")]),v._v(" "),e("th",[v._v("描述")])])]),v._v(" "),e("tbody",[e("tr",[e("td",[v._v("beforeCreate")]),v._v(" "),e("td",[v._v("组件实例被创建之初")])]),v._v(" "),e("tr",[e("td",[v._v("created")]),v._v(" "),e("td",[v._v("组件实例已经完全创建")])]),v._v(" "),e("tr",[e("td",[v._v("beforeMount")]),v._v(" "),e("td",[v._v("组件挂载之前")])]),v._v(" "),e("tr",[e("td",[v._v("mounted")]),v._v(" "),e("td",[v._v("组件挂载到实例上去之后")])]),v._v(" "),e("tr",[e("td",[v._v("beforeUpdate")]),v._v(" "),e("td",[v._v("组件数据发生变化，更新之前")])]),v._v(" "),e("tr",[e("td",[v._v("updated")]),v._v(" "),e("td",[v._v("数据数据更新之后")])]),v._v(" "),e("tr",[e("td",[v._v("beforeDestroy")]),v._v(" "),e("td",[v._v("组件实例销毁之前")])]),v._v(" "),e("tr",[e("td",[v._v("destroyed")]),v._v(" "),e("td",[v._v("组件实例销毁之后")])]),v._v(" "),e("tr",[e("td",[v._v("activated")]),v._v(" "),e("td",[v._v("keep-alive 缓存的组件激活时")])]),v._v(" "),e("tr",[e("td",[v._v("deactivated")]),v._v(" "),e("td",[v._v("keep-alive 缓存的组件停用时调用")])]),v._v(" "),e("tr",[e("td",[v._v("errorCaptured")]),v._v(" "),e("td",[v._v("捕获一个来自子孙组件的错误时被调用")])])])]),v._v(" "),e("hr"),v._v(" "),e("h2",{attrs:{id:"三、生命周期整体流程"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#三、生命周期整体流程"}},[v._v("#")]),v._v(" "),e("strong",[v._v("三、生命周期整体流程")])]),v._v(" "),e("p",[e("code",[v._v("Vue")]),v._v(" 生命周期流程图：")]),v._v(" "),e("img",{staticClass:"custom",staticStyle:{margin:"0 auto",display:"block"},attrs:{src:v.$withBase("/assets/img/img20210125/vue_生命周期流程图.webp"),alt:"img"}}),v._v(" "),e("h3",{attrs:{id:"具体分析"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#具体分析"}},[v._v("#")]),v._v(" "),e("strong",[v._v("具体分析")])]),v._v(" "),e("p",[e("strong",[v._v("beforeCreate -> created")])]),v._v(" "),e("ul",[e("li",[v._v("初始化Vue实例，进行数据观测。")])]),v._v(" "),e("p",[e("strong",[v._v("created")])]),v._v(" "),e("ul",[e("li",[v._v("完成数据观测，属性与方法的运算，"),e("code",[v._v("watch")]),v._v(" 、"),e("code",[v._v("event")]),v._v(" 事件回调的配置；")]),v._v(" "),e("li",[v._v("可调用 "),e("code",[v._v("methods")]),v._v(" 中的方法，访问和修改 "),e("code",[v._v("data")]),v._v(" 数据触发响应式渲染 "),e("code",[v._v("DOM")]),v._v(" ，可通过 "),e("code",[v._v("computed")]),v._v(" 和 "),e("code",[v._v("watch")]),v._v(" 完成数据计算；")]),v._v(" "),e("li",[v._v("此时 "),e("code",[v._v("vm.$el")]),v._v(" 并没有被创建。")])]),v._v(" "),e("p",[e("strong",[v._v("created -> beforeMount")])]),v._v(" "),e("ul",[e("li",[v._v("判断是否存在 "),e("code",[v._v("el")]),v._v(" 选项，若不存在则停止编译，直到调用 "),e("code",[v._v("vm.$mount(el)")]),v._v(" 才会继续编译；")]),v._v(" "),e("li",[v._v("优先级："),e("code",[v._v("render")]),v._v(" > "),e("code",[v._v("template")]),v._v(" > "),e("code",[v._v("outerHTML")]),v._v("；")]),v._v(" "),e("li",[e("code",[v._v("vm.el")]),v._v(" 获取到的是挂载 "),e("code",[v._v("DOM")]),v._v(" 的。")])]),v._v(" "),e("p",[e("strong",[v._v("beforeMount")])]),v._v(" "),e("ul",[e("li",[v._v("在此阶段可获取到 "),e("code",[v._v("vm.el")]),v._v(" ;")]),v._v(" "),e("li",[v._v("此阶段 "),e("code",[v._v("vm.el")]),v._v(" 虽已完成 "),e("code",[v._v("DOM")]),v._v(" 初始化，但并未挂载在 "),e("code",[v._v("el")]),v._v(" 选项上。")])]),v._v(" "),e("p",[e("strong",[v._v("beforeMount -> mounted")])]),v._v(" "),e("p",[v._v("此阶段 "),e("code",[v._v("vm.el")]),v._v(" 完成挂载，"),e("code",[v._v("vm.$el")]),v._v(" 生成的 "),e("code",[v._v("DOM")]),v._v(" 替换了 "),e("code",[v._v("el")]),v._v(" 选项所对应的 "),e("code",[v._v("DOM")]),v._v(" 。")]),v._v(" "),e("p",[e("strong",[v._v("mounted")])]),v._v(" "),e("ul",[e("li",[e("code",[v._v("vm.el")]),v._v(" 已完成 "),e("code",[v._v("DOM")]),v._v(" 的挂载与渲染，此刻打印 "),e("code",[v._v("vm.$el")]),v._v(" ，发现之前的挂载点及内容已被替换成新的 "),e("code",[v._v("DOM")]),v._v(" 。")])]),v._v(" "),e("p",[e("strong",[v._v("beforeUpdate")])]),v._v(" "),e("ul",[e("li",[v._v("更新的数据必须是被渲染在模板上的（"),e("code",[v._v("el")]),v._v("、"),e("code",[v._v("template")]),v._v("、"),e("code",[v._v("render")]),v._v("之一）；")]),v._v(" "),e("li",[v._v("此时 "),e("code",[v._v("view")]),v._v(" 层还未更新；")]),v._v(" "),e("li",[v._v("若在 "),e("code",[v._v("beforeUpdate")]),v._v(" 中再次修改数据，不会再次触发更新方法。")])]),v._v(" "),e("p",[e("strong",[v._v("updated")])]),v._v(" "),e("ul",[e("li",[v._v("完成 "),e("code",[v._v("view")]),v._v(" 层的更新；")]),v._v(" "),e("li",[v._v("若在"),e("code",[v._v("updated")]),v._v("中再次修改数据，会再次触发更新方法（"),e("code",[v._v("beforeUpdate")]),v._v("、"),e("code",[v._v("updated")]),v._v("）。")])]),v._v(" "),e("p",[e("strong",[v._v("beforeDestroy")])]),v._v(" "),e("ul",[e("li",[v._v("实例被销毁前调用，此时实例属性与方法仍可访问")])]),v._v(" "),e("p",[e("strong",[v._v("destroyed")])]),v._v(" "),e("ul",[e("li",[v._v("完全销毁一个实例。可清理它与其它实例的连接，解绑它的全部指令及事件监听器；")]),v._v(" "),e("li",[v._v("并不能清除 "),e("code",[v._v("DOM")]),v._v(" ，仅仅销毁实例。")])]),v._v(" "),e("h3",{attrs:{id:"使用场景分析"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#使用场景分析"}},[v._v("#")]),v._v(" "),e("strong",[v._v("使用场景分析")])]),v._v(" "),e("table",[e("thead",[e("tr",[e("th",[v._v("生命周期")]),v._v(" "),e("th",[v._v("描述")])])]),v._v(" "),e("tbody",[e("tr",[e("td",[v._v("beforeCreate")]),v._v(" "),e("td",[v._v("执行时组件实例还未创建，通常用于插件开发中执行一些初始化任务")])]),v._v(" "),e("tr",[e("td",[v._v("created")]),v._v(" "),e("td",[v._v("组件初始化完毕，各种数据可以使用，常用于异步数据获取")])]),v._v(" "),e("tr",[e("td",[v._v("beforeMount")]),v._v(" "),e("td",[v._v("未执行渲染、更新，DOM未创建")])]),v._v(" "),e("tr",[e("td",[v._v("mounted")]),v._v(" "),e("td",[v._v("初始化结束，DOM已创建，可用于获取访问数据和DOM元素")])]),v._v(" "),e("tr",[e("td",[v._v("beforeUpdate")]),v._v(" "),e("td",[v._v("更新前，可用于获取更新前各种状态")])]),v._v(" "),e("tr",[e("td",[v._v("updated")]),v._v(" "),e("td",[v._v("更新后，所有状态已是最新")])]),v._v(" "),e("tr",[e("td",[v._v("beforeDestroy")]),v._v(" "),e("td",[v._v("销毁前，可用于一些定时器或订阅的取消")])]),v._v(" "),e("tr",[e("td",[v._v("destroyed")]),v._v(" "),e("td",[v._v("组件已销毁，作用同上")])])])]),v._v(" "),e("hr"),v._v(" "),e("h2",{attrs:{id:"四、题外话-数据请求在created和mouted的区别"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#四、题外话-数据请求在created和mouted的区别"}},[v._v("#")]),v._v(" "),e("strong",[v._v("四、题外话：数据请求在created和mouted的区别")])]),v._v(" "),e("p",[e("code",[v._v("created")]),v._v(" 是在组件实例一旦创建完成的时候立刻调用，这时候页面 "),e("code",[v._v("DOM")]),v._v(" 节点并未生成；")]),v._v(" "),e("p",[e("code",[v._v("mounted")]),v._v(" 是在页面 "),e("code",[v._v("DOM")]),v._v(" 节点渲染完毕之后就立刻执行的；")]),v._v(" "),e("p",[v._v("触发时机上 "),e("code",[v._v("created")]),v._v(" 是比 "),e("code",[v._v("mounted")]),v._v(" 要更早的；")]),v._v(" "),e("p",[v._v("两者相同点：都能拿到实例对象的属性和方法；")]),v._v(" "),e("p",[v._v("讨论这个问题本质就是触发的时机，放在 "),e("code",[v._v("mounted")]),v._v(" 请求有可能导致页面闪动（页面 "),e("code",[v._v("DOM")]),v._v(" 结构已经生成），但如果在页面加载前完成则不会出现此情况。")]),v._v(" "),e("p",[v._v("建议：放在 "),e("code",[v._v("create")]),v._v(" 生命周期当中。")]),v._v(" "),e("p",[v._v("参考文献")]),v._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"https://juejin.cn/post/6844903811094413320",target:"_blank",rel:"noopener noreferrer"}},[v._v("https://juejin.cn/post/6844903811094413320"),e("OutboundLink")],1)]),v._v(" "),e("li",[e("a",{attrs:{href:"https://baike.baidu.com/",target:"_blank",rel:"noopener noreferrer"}},[v._v("https://baike.baidu.com/"),e("OutboundLink")],1)]),v._v(" "),e("li",[e("a",{attrs:{href:"http://cn.vuejs.org/",target:"_blank",rel:"noopener noreferrer"}},[v._v("http://cn.vuejs.org/"),e("OutboundLink")],1)])])])}),[],!1,null,null,null);_.default=r.exports}}]);